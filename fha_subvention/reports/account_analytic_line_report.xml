<odoo>
    <template id="fha_subvention.internal_layout">
        <t t-name="internal_layout">
            <div class="header">
                <div class="row">
                    <t t-set="title">Subventions Reports:</t>
                    <h2 class="mt0" style="text-align: Left;">
                        <spam>Subventions Reports:</spam>
                        <spam t-esc="o.analytic_group_id.code" style="font-weight: bold;"/>
                        <spam>-</spam>
                        <spam t-esc="o.analytic_group_id.name" style="font-weight: bold;"/>
                    </h2>

                </div>

                <div class="row">
                    <spam>Total Subvention :</spam>
                    <spam t-esc="o.analytic_group_id.total_subvention"
                          style="font-weight: bold;"
                          t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                    <spam>-</spam>
                    <spam>Justified Subvention :</spam>
                    <spam t-esc="o.analytic_group_id.justified_subvention"
                          style="font-weight: bold;"
                          t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                    <spam>Period :</spam>
                    <spam t-esc="o.analytic_group_id.date_init"
                          style="font-weight: bold;"/>
                    <spam>to</spam>
                    <spam t-esc="o.analytic_group_id.date_end"
                          style="font-weight: bold;"/>
                </div>

            </div>

            <div t-attf-class="article o_report_layout_clean" t-att-data-oe-model="o and o._name">
                <t t-call="web.address_layout"/>
                <t t-raw="0"/>
            </div>

            <div class="footer">
                <div class="row mt8">
                    <div class="col-10">
                        <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d')"/>
                    </div>
                    <div class="col-2">
                        <ul
                            class="list-inline pagenumber float-right text-center"
                        >
                            <li class="list-inline-item">
                                <strong>
                                    <span class="page"/>
                                    /
                                    <span class="topage"/>
                                </strong>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="fha_subvention.account_analytic_line_pdf">
        <t t-name="account_analytic_line_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="fha_subvention.account_analytic_line_report_base"
                       t-lang="o.env.user.lang"/>
                </t>
            </t>
        </t>
    </template>
    <template id="fha_subvention.account_analytic_line_report_base">
        <t t-name="account_analytic_line_report_base">
            <t t-call="fha_subvention.internal_layout">
                <div class="page">
                    <t t-set="account_id" t-value=""/>

                    <table class="table">
                        <tbody>
                            <t t-foreach="o.results" t-as="report_lines">
                                <t t-if="account_id != report_lines.account_id">
                                    <t
                                        t-set="account_id"
                                        t-value="report_lines.account_id"
                                    />
                                    <tr style="line-height:10px; min-height: 10px; max-height: 10px; height: 10px; border: 2px;">

                                        <td colspan="6">
                                            <span t-field="report_lines.account_id.name"
                                                  style="font-size: 1.5em; font-weight: bold;"/>
                                            <span> : </span>
                                            <span t-field="report_lines.account_id.code"
                                                  style="font-size: 1.5em; font-weight: bold;"/>
                                        </td>
                                    </tr>
                                    <tr style="line-height:10px; min-height: 10px; max-height: 10px; height: 10px; border: 2px;">
                                        <td colspan="6" style="border: 2px;">
                                            <span>Percentage :</span>
                                            <span t-field="report_lines.account_id.percentage"
                                                  style="font-weight: bold;"/>%
                                            <span>Total Subvention :</span>
                                            <span t-field="report_lines.account_id.total_subvention"
                                                  style="font-weight: bold;"
                                                  t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                            <span>Total Justified :</span>
                                            <span t-field="report_lines.account_id.total_expense"
                                                  style="font-weight: bold;"
                                                  t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                            <span>Percentage Justified :</span>
                                            <span t-field="report_lines.account_id.percentage_expense"
                                                  style="font-weight: bold;"
                                                  t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                        </td>
                                    </tr>
                                    <tr style="line-height:10px; min-height: 10px; max-height: 10px; height: 10px; border: 2px;">
                                        <td>Expense Type</td>
                                        <td>Date</td>
                                        <td>Description</td>
                                        <td style="text-align: right;">Amount</td>
                                        <td style="text-align: right;">Percentage</td>
                                        <td style="text-align: right;">Justified Amount</td>
                                    </tr>
                                </t>
                                <tr style="line-height:10px; margin: 0px 0px 0px 0px; border: 2px;">
                                    <td>
                                        <span t-field="report_lines.move_id.move_id"/>
                                    </td>
                                    <td>
                                        <span t-esc="report_lines.date.strftime('%d-%m-%Y')"/>
                                    </td>
                                    <td>
                                        <span t-field="report_lines.name"/>
                                    </td>
                                    <td style="text-align: right;">
                                        <span t-field="report_lines.amount"
                                              t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                    <td style="text-align: right;">
                                        <span t-field="report_lines.account_id.percentage"/>%
                                    </td>
                                    <td style="text-align: right;">
                                        <span t-field="report_lines.justified_amount"
                                              t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>

                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>
    <template id="fha_subvention.account_analytic_line_report_filters">
        <t t-name="account_analytic_line_report_filters">
            <div class="act_as_table data_table" style="width: 100%;">
                <div class="act_as_row labels">
                    <div class="act_as_cell">Date From</div>
                    <div class="act_as_cell">Date To</div>
                </div>
                <div class="act_as_row">
                    <div class="act_as_cell">
                        <span t-field="o.date_from"/>
                    </div>
                    <div class="act_as_cell">
                        <span t-field="o.date_to"/>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="fha_subvention.account_analytic_line_report_header">
        <t t-name="account_analytic_line_report_header">
            <div class="act_as_thead">
                <div class="act_as_row labels">
                    <div class="act_as_cell">Date</div>
                    <div class="act_as_cell">Name</div>
                </div>
            </div>
        </t>
    </template>
    <template id="fha_subvention.account_analytic_line_report_lines">
        <t t-name="account_analytic_line_report_lines">
            <div class="act_as_row lines">
                <div class="act_as_cell left">
                    <t t-esc="report_lines.date.strftime('%Y-%m-%d')"/>
                </div>
                <div class="act_as_cell left">
                    <t t-esc="report_lines.name"/>
                </div>
            </div>
        </t>
    </template>
</odoo>
